<?xml version="1.0" encoding="utf-8"?>
<s:View xmlns:fx="http://ns.adobe.com/mxml/2009" 
		xmlns:s="library://ns.adobe.com/flex/spark"
		title="{data.subject}"
		viewActivate="view1_viewActivateHandler(event)"
		viewDeactivate="view1_viewDeactivateHandler(event)"
		overlayControls="true"
		>
	<fx:Script>
		<![CDATA[
			import classes.DataManager;
			
			import com.GLRVod;
			
			import mx.core.UIComponent;
			
			import spark.events.ViewNavigatorEvent;
			
			private var _vod:GLRVod;
			
			protected function view1_viewActivateHandler(event:ViewNavigatorEvent):void
			{
				//stage.autoOrients = true;
				//stage.setAspectRatio("any");
				stage.setOrientation(StageOrientation.ROTATED_LEFT);
				actionBarVisible = tabBarVisible = false;
				
				addEventListener(MouseEvent.CLICK, onMouseClick); 
				
				var url:String = "http://www.glr.cn/appapi/app_course_view.php?appid=";
				url += data.courseId;
				url += "&token=";
				url += DataManager.instance.user.token;
				
				_vod = new GLRVod();
				group.addElement(_vod);
				_vod.start(url);
			}
			
			private function onMouseClick(event:MouseEvent):void
			{
				actionBarVisible = !actionBarVisible;
			}
			
			protected function view1_viewDeactivateHandler(event:ViewNavigatorEvent):void
			{
				if (_vod)
					_vod.exit();
				
				group.removeAllElements();
				removeEventListener(MouseEvent.CLICK, onMouseClick);
				stage.setOrientation(StageOrientation.DEFAULT);
				//stage.setAspectRatio("portrait");
				//stage.autoOrients = false;
				actionBarVisible = tabBarVisible = true;
			}
		]]>
	</fx:Script>
	<s:Group id="group" width="100%" height="100%">
		
	</s:Group>
</s:View>